<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Pctime objects — Pctime • pcts</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Pctime objects — Pctime"><meta property="og:description" content='

Class "Pctime" is an S3 class inheriting from the base R
  datetime class "POSIXct". It has methods for conversion between
  datetimes and the pcts cycle-season pairs, as well as convenience
  methods for a few other functions.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pcts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.15.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pcts_data.html">Importing and manipulating periodic time series data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/GeoBosh/pcts/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pctime objects</h1>
    
    <div class="hidden name"><code>Pctime.Rd</code></div>
    </div>

    <div class="ref-description">
    

<p>Class <code>"Pctime"</code> is an S3 class inheriting from the base R
  datetime class <code>"POSIXct"</code>. It has methods for conversion between
  datetimes and the pcts cycle-season pairs, as well as convenience
  methods for a few other functions.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre><code>Pctime(x, cycle, ...)

as_Pctime(x, ...)

# S3 method for Pctime
[(x, i, j, drop = TRUE)

# S3 method for Pctime
[[(x, ..., drop = TRUE)

# S3 method for Cyclic
as_Pctime(x, ...)

# S3 method for PeriodicTimeSeries
as_Pctime(x, ...)</code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd>

<p>for <code>Pctime</code>, numeric vector, matrix with two columns, or any
    object that is or can be converted to datetime. For the other
    functions see Details.</p>
<p></p></dd>
<dt>cycle</dt>
<dd>
    
<p>a positive integer, cycle object, or missing.</p>
<p></p></dd>
<dt>i</dt>
<dd><p>subscript</p></dd>
<dt>j</dt>
<dd><p>noi used</p></dd>
<dt>drop</dt>
<dd><p>not used</p></dd>
</dl><p><!-- % \item{value}{a replacement value for the selected subset.} --></p>
<dl><dt>...</dt>
<dd><p>further argument for methods.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    

<p><code>Pctime</code> represents periodic times with cycle specification
contained in attribute <code>"cycle"</code>. It is basically datetime
(inheriting from <code>"POSIXct"</code>) with additional attribute(s).</p>
<p>For printing Pctime objects are shown as cycle-season pairs.  To print
in other formats, just convert them using <code>as_datetime</code> or other
suitable function. Note though that some cycles in pcts do not have
natural datetime representation. For them, Pctime sets it arbitrarilly
as the number of seconds from a origin.</p>
<p>The seasons in cycle-season pairs are numbered from one to the number
of seasons. Names and abbreviations are used when available and this is
the case for all builtin cycles and partial cycles obtained from them.</p>
<p>The cycles in cycle-season pairs are numbered from a starting point.
For years, it is what is expected. For cycles representing weeks, week 1
is the first ISO week of 1970, so <code>c(1,1)</code> corresponds to
1969-12-29. For some other cycle classes <code>c(1,1)</code> also corresponds
to the first time in the first ISO week of 1970.</p>
<p>Subsetting with <code>"["</code> keeps the <code>Pctime</code> class, while
<code>"[["</code> returns a datetime object. Other standard functions work
with Pctime objects, as well, including <code>seq</code>.</p>
<p>A common source of frustration is the accidental use of <code>as.Date</code>
or <code>as_date</code>, instead of <code>as.POSIXlt</code> or <code>as_datetime</code>.
These four are often equivalent, most notably for monthly, quarterly and
daily observations but, in general, conversion to dates drops the
fractional day part of a datetime.</p>
<p>The default time zone is UTC. Other time zones can be used since the
calculations use standard datetime and date functions from base R and
package lubridate (Grolemund and Wickham 2011)
, but currently this has
not been tested.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>for <code>Pctime</code>, an object from S3 class Pctime</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Grolemund G, Wickham H (2011).
“Dates and Times Made Easy with lubridate.”
<em>Journal of Statistical Software</em>, <b>40</b>(3), 1--25.
doi: <a href="https://doi.org/10.18637/jss.v040.i03" class="external-link">10.18637/jss.v040.i03</a>
.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">## a bare bone date for four seasons</span></span>
<span class="r-in"><span class="va">pct4</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="pcCycle-methods.html">pcCycle</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">pct4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "C2020 S2"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## quarterly cycle</span></span>
<span class="r-in"><span class="fu">Pctime</span><span class="op">(</span><span class="st">"2020-04-01"</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y2020 Q2"</span>
<span class="r-in"><span class="va">pctQ</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span>  <span class="co"># same</span></span>
<span class="r-in"><span class="va">pctQ</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y2020 Q2"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## day-in-week cycle</span></span>
<span class="r-in"><span class="co">## c(1, 1) is the start of the first ISO week of 1970</span></span>
<span class="r-in"><span class="va">weekW1S1</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span>  <span class="co"># W1 Mon</span></span>
<span class="r-in"><span class="va">weekW1S1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "W1 Mon"</span>
<span class="r-in"><span class="fu">as_datetime</span><span class="op">(</span><span class="va">weekW1S1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1969-12-29 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">Pctime</span><span class="op">(</span><span class="st">"1970-01-01"</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="co">#  W1 Thu</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "W1 Thu"</span>
<span class="r-in"><span class="va">pctW1Th</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span>  <span class="co"># same</span></span>
<span class="r-in"><span class="va">pctW1Th</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "W1 Thu"</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">Pctime</span><span class="op">(</span><span class="st">"2020-04-01"</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "W2623 Wed"</span>
<span class="r-in"><span class="va">pctW2623Wed</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2623</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span>  <span class="co"># same</span></span>
<span class="r-in"><span class="va">pctW2623Wed</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "W2623 Wed"</span>
<span class="r-in"><span class="fu">as_datetime</span><span class="op">(</span><span class="va">pctW2623Wed</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2020-04-01 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Monday-Friday week - a partial cycle derived from DayOfWeekCycle</span></span>
<span class="r-in"><span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Object from class 'PartialCycle'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     partial cycle of 'DayWeekCycle', seasons: 1, 2, 3, 4, 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cycle start: Monday </span>
<span class="r-in"><span class="va">pctMF</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="st">"2020-04-03"</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="co"># Fri</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">pctMF</span>, length.out <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="co"># note: Sat, Sun are skipped</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "W2623 Fri" "W2624 Mon" "W2624 Tue" "W2624 Wed" "W2624 Thu" "W2624 Fri"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "W2625 Mon" "W2625 Tue" "W2625 Wed" "W2625 Thu"</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">Pctime</span><span class="op">(</span><span class="st">"2020-04-04"</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="co"># Sat, not in the cycle</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "W2623 NA"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## monthly cycle</span></span>
<span class="r-in"><span class="fu">Pctime</span><span class="op">(</span><span class="st">"2020-04-01"</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y2020 Apr"</span>
<span class="r-in"><span class="va">pctY2020Apr</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="pcCycle-methods.html">BuiltinCycle</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span>  <span class="co"># same</span></span>
<span class="r-in"><span class="va">pctY2020Apr</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y50 Apr"</span>
<span class="r-in"><span class="fu">as_datetime</span><span class="op">(</span><span class="va">pctW2623Wed</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2020-04-01 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Pctime can hold a vector of times</span></span>
<span class="r-in"><span class="va">ap</span> <span class="op">&lt;-</span> <span class="fu"><a href="pcts-methods.html">pcts</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span></span>
<span class="r-in"><span class="va">aptime</span> <span class="op">&lt;-</span> <span class="fu">Pctime</span><span class="op">(</span><span class="va">ap</span><span class="op">)</span>              <span class="co">#  as_Pctime(ap)</span></span>
<span class="r-in"><span class="va">aptime</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span> <span class="co"># keep Pctime class</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "Y1949 Jan" "Y1949 Feb" "Y1949 Mar" "Y1949 Apr" "Y1949 May" "Y1949 Jun"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] "Y1949 Jul" "Y1949 Aug" "Y1949 Sep" "Y1949 Oct" "Y1949 Nov" "Y1949 Dec"</span>
<span class="r-in"><span class="va">aptime</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y1949 Jan"</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">aptime</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># drop Pctime class</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1949-01-01 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">aptime</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y1949 Jan" "Y1949 Feb" "Y1949 Mar" "Y1949 Apr" "Y1949 May" "Y1949 Jun"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">aptime</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Y1960 Jul" "Y1960 Aug" "Y1960 Sep" "Y1960 Oct" "Y1960 Nov" "Y1960 Dec"</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">apdates</span> <span class="op">&lt;-</span> <span class="fu">as_datetime</span><span class="op">(</span><span class="va">ap</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">apdates</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1949-01-01 UTC" "1949-02-01 UTC" "1949-03-01 UTC" "1949-04-01 UTC"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "1949-05-01 UTC" "1949-06-01 UTC"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">apdates</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1960-07-01 UTC" "1960-08-01 UTC" "1960-09-01 UTC" "1960-10-01 UTC"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "1960-11-01 UTC" "1960-12-01 UTC"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

