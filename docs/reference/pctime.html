<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Functions for some basic operations with seasons — pctime • pcts</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Functions for some basic operations with seasons — pctime" />
<meta property="og:description" content="Functions for some basic operations with seasons." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pcts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.15.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GeoBosh/pcts">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Functions for some basic operations with seasons</h1>
    
    <div class="hidden name"><code>pctime.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions for some basic operations with seasons.</p>
    </div>

    <pre class="usage"><!-- %pc.omitneg(lags, maxlag) -->
toSeason(t, period, t1 = 1, from = 1)
toSeasonPair(t, s, period, ...)
ttTosl(r, period)
ttmatToslPairs(i, j, period)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>r</th>
      <td><p>covariance matrix, see `Details'.</p></td>
    </tr>
    <tr>
      <th>t</th>
      <td><p>a vector of integers, representing times.</p></td>
    </tr>
    <tr>
      <th>s</th>
      <td><p>a vector of integers, representing times.</p></td>
    </tr>
    <tr>
      <th>period</th>
      <td><p>the number of seasons.</p></td>
    </tr>
    <tr>
      <th>t1</th>
      <td><p>time corresponding to the first season, an integer number.</p></td>
    </tr>
    <tr>
      <th>from</th>
      <td><p>1 or 0, depending on whether the season numbers start from
    1 or 0.</p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>a vector of integers.</p></td>
    </tr>
    <tr>
      <th>j</th>
      <td><p>a vector of integers.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>todo: describe!</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p><code>ttmatToslPairs(i,j,period)</code> transforms time-time pairs to
 season-lag pairs. The time pairs are obtained by pairing each element
 of <code>i</code> with each element of <code>j</code>. A four column matrix is
 created with one row for each pair <code>(t,s)</code>, such that
 <code>t=i[m]</code> and <code>s=j[n]</code> for some <code>m</code> and <code>n</code>.  The
 row is <code>m, n, s, l</code>, where <code>(s,l)</code> is the season-lag pair
 corresponding to <code>(t,s)</code>.</p>
<p><code>ttTosl(r,period)</code> converts autocovariances given in a covariance
 matrix (i.e. in ``tt'' form) to the ``sl'' form. The result is a
 <code>period x (maxlag+1)</code> matrix, where <code>maxlag</code> is the maximal
 lag available in <code>r</code>. Entries for which no values are available
 are filled with <code>NA</code>'s.  Warning is given if contradictory entries
 are found (i.e. if <code>r</code> is not from a periodically correlated
 process with the given period).</p>
<p><code>toSeason(t,period,t1=1,from=1)</code> returns the season corresponding
 to <code>t</code>.  <code>t1</code> is a time (integer) whose season is the first
 season, <code>from</code> is 1 if the numbering of seasons is 1,2,...,period,
 or 0 if the numbering of seasons is 0,1,...,period-1.  Other values for
 <code>from</code> are not admissible (but not checked).  <strong>Note:</strong> some
 of the functions in this package implicitly assume that <code>t1=1</code> and
 <code>from=1</code>.</p>
<p><code>toSeasonPair(t,s,period)</code> converts the ``tt'' pair <code>t,s</code> to
 ``sl'' pair and returns the result in the form of a list with elements
 <code>season</code> and <code>lag</code>. Currently <code>t</code> and <code>s</code> must be
 scalars.</p>
<p><code>pc.omitneg</code> helps to implement dropping of negative indices in
 season-lag objects. It returns its first argument, <code>lags</code>, if all
 of its elements are non-negative. Otherwise, all elements of
 <code>lags</code> must be non-positive. In this case the function creates the
 vector <code>0:maxlag</code> and drops the elements specified by lags.  Note
 that the default indexing will not work properly since zero elements in
 an index are omitted (and there are such indices in season-lag
 objects).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<p>for <code>ttmatToslPairs</code>, a matrix with four columns;</p>
<p>for <code>ttTosl</code>, a matrix with <code>period</code> rows;</p>
<p>for <code>toSeason(t,period,t1=1,from=1)</code>, a vector of integers;</p>
<p>for <code>toSeasonPair(t,s,period)</code>, a list with elements
  <code>season</code> and <code>lag</code>;</p>
<p>for <code>pc.omitneg</code>, a vector of lags (non-negative integers).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><!-- % bibentry: boshnakov2009gen -->
Boshnakov GN and Iqelan BM (2009).
``Generation of time series models with given spectral
properties.''
<em>J. Time Series Anal.</em>, <b>30</b>(3), pp. 349--368.
ISSN 0143-9782, <a href='http://dx.doi.org/10.1111/j.1467-9892.2009.00617.x'>http://dx.doi.org/10.1111/j.1467-9892.2009.00617.x</a>.
<!-- % end:bibentry:  boshnakov2009gen --></p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    

<p>2013-10-24 - Corrected the description of the return value of
  <code>ttmatToslPairs</code>. It incorrectly stated that the first two
  columns are "tt" pair (they are actually indices in <code>i</code> and
  <code>j</code>).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># ttmatToslPairs</span>
<span class='fu'>ttmatToslPairs</span>(<span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>4</span>)  <span class='co'># 1, 1, 3, 0</span></div><div class='output co'>#&gt;     [,1] [,2] [,3] [,4]
#&gt; tmp    1    1    3    0</div><div class='input'><span class='fu'>ttmatToslPairs</span>(<span class='fl'>3</span>, <span class='fl'>2</span>, <span class='fl'>4</span>)  <span class='co'># 1, 1, 3, 1</span></div><div class='output co'>#&gt;     [,1] [,2] [,3] [,4]
#&gt; tmp    1    1    3    1</div><div class='input'>
<span class='fu'>ttmatToslPairs</span>(<span class='fl'>1</span>:<span class='fl'>4</span>, <span class='fl'>1</span>:<span class='fl'>4</span>, <span class='fl'>4</span>)</div><div class='output co'>#&gt;     [,1] [,2] [,3] [,4]
#&gt; tmp    1    1    1    0
#&gt; tmp    1    2    2    1
#&gt; tmp    1    3    3    2
#&gt; tmp    1    4    4    3
#&gt; tmp    2    1    2    1
#&gt; tmp    2    2    2    0
#&gt; tmp    2    3    3    1
#&gt; tmp    2    4    4    2
#&gt; tmp    3    1    3    2
#&gt; tmp    3    2    3    1
#&gt; tmp    3    3    3    0
#&gt; tmp    3    4    4    1
#&gt; tmp    4    1    4    3
#&gt; tmp    4    2    4    2
#&gt; tmp    4    3    4    1
#&gt; tmp    4    4    4    0</div><div class='input'>
<span class='fu'>ttmatToslPairs</span>(<span class='fl'>3</span>:<span class='fl'>4</span>, <span class='fl'>3</span>:<span class='fl'>4</span>, <span class='fl'>4</span>)</div><div class='output co'>#&gt;     [,1] [,2] [,3] [,4]
#&gt; tmp    1    1    3    0
#&gt; tmp    1    2    4    1
#&gt; tmp    2    1    4    1
#&gt; tmp    2    2    4    0</div><div class='input'>
<span class='co'># ttTosl -  :todo:</span>

<span class='co'># toSeason</span>
<span class='fu'>toSeason</span>(<span class='fl'>1</span>:<span class='fl'>10</span>, <span class='fl'>4</span>)           <span class='co'># 1 2 3 4  1 2 3 4  1 2</span></div><div class='output co'>#&gt;  [1] 1 2 3 4 1 2 3 4 1 2</div><div class='input'><span class='fu'>toSeason</span>(<span class='fl'>1</span>:<span class='fl'>10</span>, <span class='fl'>4</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>0</span>) <span class='co'># 0 1 2 3  0 1 2 3  0 1</span></div><div class='output co'>#&gt;  [1] 0 1 2 3 0 1 2 3 0 1</div><div class='input'>
<span class='co'>## first data is for 3rd quarter</span>
<span class='fu'>toSeason</span>(<span class='fl'>1</span>:<span class='fl'>10</span>, <span class='fl'>4</span>, <span class='kw'>t1</span> <span class='kw'>=</span> <span class='fl'>3</span>)  <span class='co'># 3 4 1 2 3 4 1 2 3 4</span></div><div class='output co'>#&gt;  [1] 3 4 1 2 3 4 1 2 3 4</div><div class='input'>
<span class='co'># toSeasonPair</span>
<span class='fu'>toSeasonPair</span>(<span class='fl'>3</span>, <span class='fl'>3</span>, <span class='kw'>period</span><span class='kw'>=</span><span class='fl'>4</span>) <span class='co'># season=3, lag = 0</span></div><div class='output co'>#&gt; $season
#&gt; [1] 3
#&gt; 
#&gt; $lag
#&gt; [1] 0
#&gt; </div><div class='input'><span class='fu'>toSeasonPair</span>(<span class='fl'>8</span>, <span class='fl'>8</span>, <span class='kw'>period</span><span class='kw'>=</span><span class='fl'>4</span>) <span class='co'># season=4, lag = 0</span></div><div class='output co'>#&gt; $season
#&gt; [1] 4
#&gt; 
#&gt; $lag
#&gt; [1] 0
#&gt; </div><div class='input'>
<span class='fu'>toSeasonPair</span>(<span class='fl'>3</span>, <span class='fl'>2</span>, <span class='kw'>period</span><span class='kw'>=</span><span class='fl'>4</span>) <span class='co'># season=3, lag = 1</span></div><div class='output co'>#&gt; $season
#&gt; [1] 3
#&gt; 
#&gt; $lag
#&gt; [1] 1
#&gt; </div><div class='input'><span class='fu'>toSeasonPair</span>(<span class='fl'>7</span>, <span class='fl'>6</span>, <span class='kw'>period</span><span class='kw'>=</span><span class='fl'>4</span>) <span class='co'># same</span></div><div class='output co'>#&gt; $season
#&gt; [1] 3
#&gt; 
#&gt; $lag
#&gt; [1] 1
#&gt; </div><div class='input'>
#### # pc.omitneg
#### pc.omitneg(0:5,10) # 0:5, unchaged since all values >= 0
#### 
#### pc.omitneg(-(0:5),10) # 6:10, works like
#### (0:10)[-(0:5 +1)]     # same
#### 
#### # don't mix positive and negative numbers in pc.omitneg
#### \dontrun{pc.omitneg(c(0,2,3,-4,5), 10)}
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Georgi N. Boshnakov</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


