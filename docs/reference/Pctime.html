<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pctime objects — Pctime • pcts</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Pctime objects — Pctime" />
<meta property="og:description" content="

Class &quot;Pctime&quot; is an S3 class inheriting from the base R
  datetime class &quot;POSIXct&quot;. It has methods for conversion between
  datetimes and the pcts cycle-season pairs, as well as convenience
  methods for a few other functions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pcts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.15.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pcts_data.html">Importing and manipulating periodic time series data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GeoBosh/pcts/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pctime objects</h1>
    
    <div class="hidden name"><code>Pctime.Rd</code></div>
    </div>

    <div class="ref-description">
    

<p>Class <code>"Pctime"</code> is an S3 class inheriting from the base R
  datetime class <code>"POSIXct"</code>. It has methods for conversion between
  datetimes and the pcts cycle-season pairs, as well as convenience
  methods for a few other functions.</p>
    </div>

    <pre class="usage">Pctime(x, cycle, ...)

as_Pctime(x, ...)

# S3 method for Pctime
[(x, i, j, drop = TRUE)

# S3 method for Pctime
[[(x, ..., drop = TRUE)

# S3 method for Cyclic
as_Pctime(x, ...)

# S3 method for PeriodicTimeSeries
as_Pctime(x, ...)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td>

<p>for <code>Pctime</code>, numeric vector, matrix with two columns, or any
    object that is or can be converted to datetime. For the other
    functions see Details.</p>
<p></p></td>
    </tr>
    <tr>
      <th>cycle</th>
      <td>
    
<p>a positive integer, cycle object, or missing.</p>
<p></p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>subscript</p></td>
    </tr>
    <tr>
      <th>j</th>
      <td><p>noi used</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>not used</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further argument for methods.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p><code>Pctime</code> represents periodic times with cycle specification
contained in attribute <code>"cycle"</code>. It is basically datetime
(inheriting from <code>"POSIXct"</code>) with additional attribute(s).</p>
<p>For printing Pctime objects are shown as cycle-season pairs.  To print
in other formats, just convert them using <code>as_datetime</code> or other
suitable function. Note though that some cycles in pcts do not have
natural datetime representation. For them, Pctime sets it arbitrarilly
as the number of seconds from a origin.</p>
<p>The seasons in cycle-season pairs are numbered from one to the number
of seasons. Names and abbreviations are used when available and this is
the case for all builtin cycles and partial cycles obtained from them.</p>
<p>The cycles in cycle-season pairs are numbered from a starting point.
For years, it is what is expected. For cycles representing weeks, week 1
is the first ISO week of 1970, so <code><a href='https://rdrr.io/r/base/c.html'>c(1,1)</a></code> corresponds to
1969-12-29. For some other cycle classes <code><a href='https://rdrr.io/r/base/c.html'>c(1,1)</a></code> also corresponds
to the first time in the first ISO week of 1970.</p>
<p>Subsetting with <code><a href='https://rdrr.io/r/base/Extract.html'>"["</a></code> keeps the <code>Pctime</code> class, while
<code><a href='https://rdrr.io/r/base/Extract.html'>"[["</a></code> returns a datetime object. Other standard functions work
with Pctime objects, as well, including <code>seq</code>.</p>
<p>A common source of frustration is the accidental use of <code>as.Date</code>
or <code>as_date</code>, instead of <code>as.POSIXlt</code> or <code>as_datetime</code>.
These four are often equivalent, most notably for monthly, quarterly and
daily observations but, in general, conversion to dates drops the
fractional day part of a datetime.</p>
<p>The default time zone is UTC. Other time zones can be used since the
calculations use standard datetime and date functions from base R and
package lubridate (Grolemund and Wickham 2011)
, but currently this has
not been tested.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>for <code>Pctime</code>, an object from S3 class Pctime</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Grolemund G, Wickham H (2011).
&#8220;Dates and Times Made Easy with lubridate.&#8221;
<em>Journal of Statistical Software</em>, <b>40</b>, 1--25.
<a href='https://www.jstatsoft.org/v40/i03/'>https://www.jstatsoft.org/v40/i03/</a>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## a bare bone date for four seasons</span>
<span class='no'>pct4</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2020</span>, <span class='fl'>2</span>), <span class='fu'><a href='pcCycle-methods.html'>pcCycle</a></span>(<span class='fl'>4</span>))
<span class='no'>pct4</span></div><div class='output co'>#&gt; [1] "C2020 S2"</div><div class='input'>
<span class='co'>## quarterly cycle</span>
<span class='fu'>Pctime</span>(<span class='st'>"2020-04-01"</span>, <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>4</span>))</div><div class='output co'>#&gt; [1] "Y2020 Q2"</div><div class='input'><span class='no'>pctQ</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2020</span>, <span class='fl'>2</span>), <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>4</span>))  <span class='co'># same</span>
<span class='no'>pctQ</span></div><div class='output co'>#&gt; [1] "Y2020 Q2"</div><div class='input'>
<span class='co'>## day-in-week cycle</span>
<span class='co'>## c(1, 1) is the start of the first ISO week of 1970</span>
<span class='no'>weekW1S1</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>), <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>7</span>))  <span class='co'># W1 Mon</span>
<span class='no'>weekW1S1</span></div><div class='output co'>#&gt; [1] "W1 Mon"</div><div class='input'><span class='fu'>as_datetime</span>(<span class='no'>weekW1S1</span>)</div><div class='output co'>#&gt; [1] "1969-12-29 UTC"</div><div class='input'>
<span class='fu'>Pctime</span>(<span class='st'>"1970-01-01"</span>, <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>7</span>)) <span class='co'>#  W1 Thu</span></div><div class='output co'>#&gt; [1] "W1 Thu"</div><div class='input'><span class='no'>pctW1Th</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>4</span>), <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>7</span>))  <span class='co'># same</span>
<span class='no'>pctW1Th</span></div><div class='output co'>#&gt; [1] "W1 Thu"</div><div class='input'>
<span class='fu'>Pctime</span>(<span class='st'>"2020-04-01"</span>, <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>7</span>))</div><div class='output co'>#&gt; [1] "W2623 Wed"</div><div class='input'><span class='no'>pctW2623Wed</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2623</span>, <span class='fl'>3</span>), <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>7</span>))  <span class='co'># same</span>
<span class='no'>pctW2623Wed</span></div><div class='output co'>#&gt; [1] "W2623 Wed"</div><div class='input'><span class='fu'>as_datetime</span>(<span class='no'>pctW2623Wed</span>)</div><div class='output co'>#&gt; [1] "2020-04-01 UTC"</div><div class='input'>
<span class='co'>## Monday-Friday week - a partial cycle derived from DayOfWeekCycle</span>
<span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>5</span>)</div><div class='output co'>#&gt; Object from class 'PartialCycle'
#&gt;     partial cycle of 'DayWeekCycle', seasons: 1, 2, 3, 4, 5
#&gt; Cycle start: Monday </div><div class='input'><span class='no'>pctMF</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='st'>"2020-04-03"</span>, <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>5</span>)) <span class='co'># Fri</span>
<span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='no'>pctMF</span>, <span class='kw'>length.out</span> <span class='kw'>=</span> <span class='fl'>10</span>) <span class='co'># note: Sat, Sun are skipped</span></div><div class='output co'>#&gt;  [1] "W2623 Fri" "W2624 Mon" "W2624 Tue" "W2624 Wed" "W2624 Thu" "W2624 Fri"
#&gt;  [7] "W2625 Mon" "W2625 Tue" "W2625 Wed" "W2625 Thu"</div><div class='input'>
<span class='fu'>Pctime</span>(<span class='st'>"2020-04-04"</span>, <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>5</span>)) <span class='co'># Sat, not in the cycle</span></div><div class='output co'>#&gt; [1] "W2623 NA"</div><div class='input'>
<span class='co'>## monthly cycle</span>
<span class='fu'>Pctime</span>(<span class='st'>"2020-04-01"</span>, <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>12</span>))</div><div class='output co'>#&gt; [1] "Y2020 Apr"</div><div class='input'><span class='no'>pctY2020Apr</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>50</span>, <span class='fl'>4</span>), <span class='fu'><a href='pcCycle-methods.html'>BuiltinCycle</a></span>(<span class='fl'>12</span>))  <span class='co'># same</span>
<span class='no'>pctY2020Apr</span></div><div class='output co'>#&gt; [1] "Y50 Apr"</div><div class='input'><span class='fu'>as_datetime</span>(<span class='no'>pctW2623Wed</span>)</div><div class='output co'>#&gt; [1] "2020-04-01 UTC"</div><div class='input'>
<span class='co'>## Pctime can hold a vector of times</span>
<span class='no'>ap</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='pcts-methods.html'>pcts</a></span>(<span class='no'>AirPassengers</span>)
<span class='no'>aptime</span> <span class='kw'>&lt;-</span> <span class='fu'>Pctime</span>(<span class='no'>ap</span>)              <span class='co'>#  as_Pctime(ap)</span>
<span class='no'>aptime</span>[<span class='fl'>1</span>:<span class='fl'>12</span>] <span class='co'># keep Pctime class</span></div><div class='output co'>#&gt;  [1] "Y1949 Jan" "Y1949 Feb" "Y1949 Mar" "Y1949 Apr" "Y1949 May" "Y1949 Jun"
#&gt;  [7] "Y1949 Jul" "Y1949 Aug" "Y1949 Sep" "Y1949 Oct" "Y1949 Nov" "Y1949 Dec"</div><div class='input'><span class='no'>aptime</span>[<span class='fl'>1</span>]</div><div class='output co'>#&gt; [1] "Y1949 Jan"</div><div class='input'>
<span class='no'>aptime</span><span class='kw'>[[</span><span class='fl'>1</span>]] <span class='co'># drop Pctime class</span></div><div class='output co'>#&gt; [1] "1949-01-01 UTC"</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>aptime</span>)</div><div class='output co'>#&gt; [1] "Y1949 Jan" "Y1949 Feb" "Y1949 Mar" "Y1949 Apr" "Y1949 May" "Y1949 Jun"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>tail</a></span>(<span class='no'>aptime</span>)</div><div class='output co'>#&gt; [1] "Y1960 Jul" "Y1960 Aug" "Y1960 Sep" "Y1960 Oct" "Y1960 Nov" "Y1960 Dec"</div><div class='input'>
<span class='no'>apdates</span> <span class='kw'>&lt;-</span> <span class='fu'>as_datetime</span>(<span class='no'>ap</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>apdates</span>)</div><div class='output co'>#&gt; [1] "1949-01-01 UTC" "1949-02-01 UTC" "1949-03-01 UTC" "1949-04-01 UTC"
#&gt; [5] "1949-05-01 UTC" "1949-06-01 UTC"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>tail</a></span>(<span class='no'>apdates</span>)</div><div class='output co'>#&gt; [1] "1960-07-01 UTC" "1960-08-01 UTC" "1960-09-01 UTC" "1960-10-01 UTC"
#&gt; [5] "1960-11-01 UTC" "1960-12-01 UTC"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


